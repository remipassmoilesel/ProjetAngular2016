<div class="formPatient">
    <!--<div><json-pretty-print show="$ctrl"></json-pretty-print></div>-->
    <form name="formPatient" 
          ng-submit="$ctrl.disabled !== true && $ctrl.validFormAndSendData()">

        <table style="width: 100%">

            <!-- Nom du patient -->
            <tr>
                <td class="formPatientLabel">Nom:</td>
                <td>
            <md-input-container>
                <input ng-model="$ctrl.patient.name" ng-pattern="$ctrl.patientInfoPattern" 
                       ng-minlength="3" ng-maxlength="50" ng-disabled="$ctrl.disabled"
                       autocomplete="off"/>
            </md-input-container>
            </td>
            </tr>

            <!-- Prénom du patient -->
            <tr>
                <td class="formPatientLabel">Prénom:</td>
                <td>
            <md-input-container>
                <input  ng-model="$ctrl.patient.firstname" ng-pattern="$ctrl.patientInfoPattern" 
                        ng-minlength="3" ng-maxlength="50"   
                        ng-disabled="$ctrl.disabled" autocomplete="off"/>
            </md-input-container>
            </td>
            </tr>

            <!-- Genre du patient -->
            <tr>
                <td class="formPatientLabel">Genre:</td>

                <td ng-switch="$ctrl.disabled">

            <md-input-container ng-switch-when="true" ng-model="$ctrl.patient.gender">
                <input ng-disabled="$ctrl.disabled" ng-model="$ctrl.prettyGender"/>
            </md-input-container>

            <md-radio-group ng-switch-default ng-model="$ctrl.patient.gender" name="gender" 
                            layout="row">
                <md-radio-button value="F" ng-disabled="$ctrl.disabled">Femme</md-radio-button>
                <md-radio-button value="H" ng-disabled="$ctrl.disabled">Homme</md-radio-button>
                <md-radio-button value="A" ng-disabled="$ctrl.disabled">Autre</md-radio-button>
            </md-radio-group>

            </td>
            </tr>

            <!-- Infirmier associé -->
            <tr>
                <td class="formPatientLabel">Infirmier associé:</td>
                <td>
            <md-select ng-model="$ctrl.patient.nurseId" style="width: 70%" ng-disabled="$ctrl.disabled">
                <md-option ng-repeat="nurse in $ctrl.nurses" value="{{nurse.id}}">
                    {{nurse.name + ' ' + nurse.firstname}} 
                </md-option>
            </md-select>
            </td>
            </tr>

            <!-- Date de naissance -->
            <tr>
                <td class="formPatientLabel">Date de naissance:</td>
                <td>
            <md-datepicker ng-model="$ctrl.patient.birthdate" 
                           md-placeholder="Date de naissance"  ng-disabled="$ctrl.disabled"
                           md-min-date="$ctrl.lowestDate" md-max-date="$ctrl.highestDate" 
                           autocomplete="off"
                           />
            </md-datepicker>
            </td>
            </tr>

            <!-- Numéro de sécurité sociale -->
            <tr>
                <td class="formPatientLabel">Numéro de sécurité sociale:</td>
                <td>

            <md-input-container>
                <input ng-model="$ctrl.patient.ssid" ng-pattern="$ctrl.ssidPattern" 
                       ng-minlength="3" ng-maxlength="50"   
                       ng-disabled="$ctrl.disabled" autocomplete="off"/>
            </md-input-container>

            </td>
            </tr>   

            <!-- Numéro de rue -->
            <tr>
                <td class="formPatientLabel">Numéro:</td>
                <td>

            <md-input-container>
                <input ng-model="$ctrl.patient.adressNumber" ng-pattern="$ctrl.ssidPattern" 
                       ng-minlength="3" ng-maxlength="50"   
                       ng-disabled="$ctrl.disabled" autocomplete="off"/>
            </md-input-container>

            </td>
            </tr>   

            <!-- Adresse rue -->
            <tr>
                <td class="formPatientLabel">Rue:</td>
                <td>

            <md-input-container>
                <input ng-model="$ctrl.patient.adressStreet" ng-pattern="$ctrl.patientInfoPattern" 
                       ng-minlength="3" ng-maxlength="50"   
                       ng-disabled="$ctrl.disabled" autocomplete="off"/>
            </md-input-container>

            </td>
            </tr>

            <!-- Adresse code postal -->
            <tr>
                <td class="formPatientLabel">Code postal:</td>
                <td>

            <md-input-container>
                <input ng-model="$ctrl.patient.adressPostcode" ng-pattern="$ctrl.postcodePattern" 
                       ng-minlength="3" ng-maxlength="50"   
                       ng-disabled="$ctrl.disabled" autocomplete="off"/>
            </md-input-container>

            </td>
            </tr>

            <!-- Adresse etage -->
            <tr>
                <td class="formPatientLabel">Etage:</td>
                <td>

            <md-input-container>
                <input ng-model="$ctrl.patient.adressFloor" ng-pattern="$ctrl.postalcodePattern" 
                       ng-minlength="3" ng-maxlength="50"   
                       ng-disabled="$ctrl.disabled" autocomplete="off"/>
            </md-input-container>

            </td>
            </tr>

            <!-- Adresse ville -->
            <tr>
                <td class="formPatientLabel">Ville:</td>
                <td>

            <md-input-container>
                <input ng-model="$ctrl.patient.adressCity" ng-pattern="$ctrl.patientInfoPattern" 
                       ng-minlength="3" ng-maxlength="50"   
                       ng-disabled="$ctrl.disabled" autocomplete="off"/>
            </md-input-container>

            </td>
            </tr>

            <!-- Bouton envoyer, à texte variable et affiché seulement si le formulaire est actif -->
            <tr ng-show="$ctrl.disabled !== true">
                <td colspan="2" style="text-align: center">
            <md-button class="md-raised md-hue-2" type="submit">{{$ctrl.buttonValidText}}</md-button>
            </td>
            </tr>

        </table>
    </form>
    <!--        <div>
                {{$ctrl}}
            </div>
            <div>
                {{newPatientForm.birthdate.$error}}
            </div>-->

</div>
